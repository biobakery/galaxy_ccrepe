# ccrepe Galaxy#

**CCREPE**  calculates compositionality-corrected p-values and q-values for compositional data by generating
first a null distribution of the distance metric generated by permutation and renormalization of the data,
	and then by generating an alternative distribution of the distance metric by bootstrap resampling of the data.
The two distributions are compared using a pooled-variance Z-test to give a compositionality-corrected p-value.
The p-values can be calculated for all appropriate (passing certain quality-control measures) pairwise comparisons,
or for a subset of user-specified ones. 
Q-values are additionally calculated using the Benjamin-Hochberg-Yekutieli procedure

### To Install ccrepe in Galaxy ###

* Clone this repository

* Install the package in R by entering in R "install.packages('ccrepe_1.1.3.tar.gz')

* Create a directory called **ccrepe** in you galaxy-dist/tools

* Copy members ccrepe.xml and ccrepe_galaxy_frontend.py to the  galaxy-dist/tools/ccrepe directory

* Edit member **datatypes_conf.xml** in galaxy-dist and add the following 4 lines
<datatype extension="ccrepe" type="galaxy.datatypes.tabular:Tabular" subclass="True"  display_in_upload="true"   />

<datatype extension="ccrepe_p_value" type="galaxy.datatypes.tabular:Tabular" subclass="True"  display_in_upload="false"   />

<datatype extension="ccrepe_q_value" type="galaxy.datatypes.tabular:Tabular" subclass="True"  display_in_upload="false"   />

<datatype extension="ccrepe_sim_score" type="galaxy.datatypes.tabular:Tabular" subclass="True"  display_in_upload="false"   />

<datatype extension="ccrepe_z_stat" type="galaxy.datatypes.tabular:Tabular" subclass="True"  display_in_upload="false"   />

* Edit member **tool_conf.xml** and add the following  3 lines:

 <section name="ccrepe" id="ccrepe"> 

 <tool file="ccrepe/ccrepe.xml"/> 

</section> 

*  Recycle Galaxy